@using Microsoft.AspNetCore.Components.Authorization
<MudNavMenu>
    <MudText Typo="Typo.h6" Class="px-4">Quality Bolt and Screw</MudText>
    <MudText Typo="Typo.body2" Class="px-4 mud-text-secondary">E-Commerce</MudText>
    <MudDivider Class="my-3" />
    @* <MudNavLink Href="login" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Person">Login</MudNavLink> *@
    <AuthorizeView>
        <Authorized>
            <MudNavLink Href="catalog" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Shop">Catalog</MudNavLink>
            <MudNavLink Href="quick-orders" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Bookmark">Quick Orders</MudNavLink>
            <MudNavLink Href="past-orders" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.History">Past Orders</MudNavLink>

            @* QBSales section - visible to QBSales and Admin users *@
            <AuthorizeView Roles="QBSales,Admin" Context="salesContext">
                <Authorized>
                    <MudDivider Class="my-3" />
                    <MudText Typo="Typo.body2" Class="px-4 mud-text-secondary">Sales Tools</MudText>
                    <MudNavLink Href="qbsales/cart-management" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.ShoppingCartCheckout">Cart Management</MudNavLink>
                    <MudNavLink Href="qbsales/quick-order-management" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.BookmarkBorder">Quick Orders</MudNavLink>
                </Authorized>
            </AuthorizeView>
            
            @* Admin section - only visible to Admin users *@
            <AuthorizeView Roles="Admin" Context="adminContext">
                <Authorized>
                    <MudDivider Class="my-3" />
                    <MudText Typo="Typo.body2" Class="px-4 mud-text-secondary">Administration</MudText>
                    <MudNavLink Href="admin/users" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.People">User Management</MudNavLink>
                    <MudNavLink Href="admin/clients" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Business">Client Management</MudNavLink>
                    <MudNavLink Href="admin/contract-items" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Inventory">Contract Items</MudNavLink>
                    <MudNavLink Href="admin/errorlogs" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.BugReport">Error Logs</MudNavLink>
                </Authorized>
            </AuthorizeView>
            
            @* Debug Tools - only visible to Admin users *@
            <AuthorizeView Roles="Admin" Context="debugContext">
                <Authorized>
                    <MudDivider Class="my-3" />
                    <MudText Typo="Typo.body2" Class="px-4 mud-text-secondary">Debug Tools</MudText>
                    <MudNavLink Href="debug/migration-status" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Storage">Migration Status</MudNavLink>
                    <MudNavLink Href="debug/my-roles" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.VerifiedUser">My Roles</MudNavLink>
                    <MudNavLink Href="debug/stale-claims" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Refresh">Stale Claims Test</MudNavLink>
                    <MudNavLink Href="debug/token" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Key">Token Debug</MudNavLink>
                </Authorized>
            </AuthorizeView>
        </Authorized>
        <NotAuthorized>
            <MudNavLink Disabled="true" Href="catalog" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Shop">Catalog</MudNavLink>
        </NotAuthorized>
    </AuthorizeView>
</MudNavMenu>
